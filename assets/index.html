<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" href="/favicon.ico">

    <title>Democracy...how?</title>

<!-- 		<link rel="stylesheet" href="/css/uswds.min.css"> -->

    <!-- Bootstrap core CSS -->
    <link href="/css/bootstrap.min.css" rel="stylesheet">

    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <link href="/css/ie10-viewport-bug-workaround.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="/css/styles.css" rel="stylesheet">

<!-- 		<link rel="stylesheet" href="/css/custom.css"> -->

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>

  <body>
    <nav class="navbar navbar-inverse navbar-fixed-top">
      <div class="container-fluid">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="#">Home</a>
        </div>
        <div id="navbar" class="navbar-collapse collapse">
          <ul class="nav navbar-nav navbar-right">
            <li><a class="calendar" href="#calendar">Calendar</a></li>
            <li><a class="about" href="#about">About</a></li>
            <li><a class="contact" href="#contact">Contact</a></li>
<!--             <li><a href="#">Help</a></li> -->
          </ul>
          <!--<form class="navbar-form navbar-right">
            <input type="text" class="form-control" placeholder="Search...">
          </form>-->
        </div>
      </div>
    </nav>

    <div class="container-fluid">
      <div class="row">
        <div class="col-12">
					<div class="DH-banner"></div>
        </div>
      </div>
      <div class="row main-container">
        <div class="col-sm-3 col-md-2 sidebar">

<!--# include file="articles/nav.html" -->
        </div>
        <div class="col-sm-9 col-sm-offset-3 col-md-10 col-md-offset-2 main">
        <div class="bodybar">
<!--# include file="articles/nav.html" -->
        </div>
        <article>
        
<!--- content goes here -->
<h2>Welcome</h2>
<p>Welcome</p>
					</article>
        </div>
      </div>
    </div>

    <script src="js/jquery.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <script src="js/ie10-viewport-bug-workaround.js"></script>
    
    <script>
    	$(document).ready(function(){
    		console.log('ready');
    		addressChange();

				$(window).on('hashchange', addressChange);

				function addressChange(){ 
					console.log( 'addressChange' );
					if(location.hash==="") {
						$('.nav li').removeClass('active');
						$('a.welcome').parent().addClass('active');
						return;
					}
					
					var url = 'articles/' + location.hash.slice(1) + '.html';
					console.log(url);

					$.ajax({
						url: url,
						//beforeSend: function( xhr ) {
						//	xhr.overrideMimeType( "text/plain; charset=x-user-defined" );
						//}
					})
						.done(function( data ) {
							if ( console && console.log ) {
								//console.log( "Sample of data:", data.slice( 0, 100 ) );
							}
							//$('article').fadeOut(500);
							$('article').animate({opacity: 0, marginTop: '150px' }, 500);
							setTimeout(function(){
								$('article').html(data)
								$('article').css({opacity: 0, marginLeft: '0px', marginTop: '-30px' })
														.animate({opacity: 1, marginTop: '0px' }, 500);
									//.fadeIn();
							},550);
							//$('article').html(data);
							$('.nav li').removeClass('active');
							$('a.'+location.hash.slice(1)).parent().addClass('active');
						})  .fail(function() {
   						console.log( "No page found." );
  					});
				}

// http://sammyjs.org/

    	});
    </script>
  </body>
</html>

